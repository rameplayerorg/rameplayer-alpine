# Maintainer: Timo Ter√§s <timo.teras@iki.fi>
pkgname=rameplayer-backend
pkgver=0.0.20160201
_commitid=3a8a881b621d0ffc8a1e4d8cfe829ab1477a83e6
pkgrel=0
pkgdesc="Rameplayer Backend"
url="https://github.com/rameplayerorg/rameplayer-backend"
arch="noarch"
license="GPLv2"
depends="
	lua5.3 lua5.3-cjson lua5.3-penlight lua5.3-posix lua5.3-cqueues
	lua5.3-ldbus lua5.3-socket lua5.3-evdev lua5.3-cqueues-pushy
	dbus omxplayer eudev ffmpeg rameplayer-utils
	"
makedepends=""
install=""
subpackages=""

source="$pkgname-$pkgver.tar.gz::https://github.com/rameplayerorg/rameplayer-backend/archive/$_commitid.tar.gz
	"
_srcdir="$srcdir"/$pkgname-$_commitid

prepare() {
	sed -e s/'version = "development",'/'version = "'"$pkgver"'",/g' -i $_srcdir/rame/rame.lua
}

build() {
	:
}

package() {
	mkdir -p "$pkgdir"/usr/share/$pkgname/rame "$pkgdir"/usr/share/$pkgname/plugins
	install -m755 "$_srcdir"/*.lua "$pkgdir"/usr/share/$pkgname/
	install -m755 "$_srcdir"/rame/*.lua "$pkgdir"/usr/share/$pkgname/rame/
	install -m755 "$_srcdir"/plugins/*.lua "$pkgdir"/usr/share/$pkgname/plugins/
}

md5sums="a1b4ff853cbb18f03266e72a221afdab  rameplayer-backend-0.0.20160201.tar.gz"
sha256sums="638e8e6a87ce21777d26400e41d76c7842b057a340034c8fc420311a572f402b  rameplayer-backend-0.0.20160201.tar.gz"
sha512sums="18e3bc9b696c989cfc2790058cf2ff37ef8230e1f8b8f881f7beb23207a995aa02d7386e5082db6db2cbc1b912baf29b9db334c67e2de4cd0888a98ceeb1c004  rameplayer-backend-0.0.20160201.tar.gz"
